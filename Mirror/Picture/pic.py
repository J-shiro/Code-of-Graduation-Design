import matplotlib.pyplot as plt
from matplotlib.ticker import ScalarFormatter

# 数据
# x = [10*1024, 100*1024, 1024*1024, 5*1024*1024, 10*1024*1024]
# y = [0.8766279220581055, 5.447588920593262, 52.755128145217896, 272.75286984443665, 538.2474136352539]
# x = [1,5,10,50,100,500,600,800,1000,1300]
# y = [100,100,100,100,100,100, 99.83, 99.88,99.8,99.92]

x = [10*1024, 100*1024, 300*1024, 500*1024, 700*1024,900*1024, 1024*1024]#, 2*1024*1024]

# x = [3, 5,7,9,11,15, 20]
# y = [0.20141220092773438, 0.20244145393371582,0.20009994506835938,0.19883155822753906,0.19785118103027344,0.19649577140808105, 0.19360876083374023]
# y = [17.9416606426239, 25.511574029922485, 34.90493083000183, 47.43692898750305,  57.388813495635986, 79.26733422279358,107.87870931625366]

# x = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

# y = [0.001072, 0.0010879, 0.0011224, 0.0010085, 0.001221656, 0.0013997554, 0.0009174, 0.000885874, 0.001059, 0.0011405]

# y = [0.4910142421722412, 0.7158334255218506,0.9489362239837646,1.3119535446166992, 1.5453705787658691, 1.8630516529083252, 2.0801572799682617, 2.3577940464019775, 2.5541813373565674, 2.7877447605133057]

# y1 = [0.6634495258331299 ,5.257221221923828,15.256387710571289,25.969876527786255,34.8884003162384 ,46.924991607666016 ,53.30917239189148]#, 106.67733502388]
# y2 = [0.8427391052246094,5.555521249771118,15.406777143478394,26.343358039855957,34.940570306777954,46.57326412200928,54.287402868270874]#,105.59591126441956]

y1 = [0.004107236862182617,0.039427995681762695, 0.12410902976989746, 0.19877910614013672,0.28615331649780273,0.3609907627105713,
      0.42531609535217285]
y2 = [0.004014730453491211,0.04230237007141113,0.118255615234375,0.20009541511535645,0.2828495502471924,0.36467504501342773,0.41285252571105957
]

# 绘制第一张折线图
plt.plot(x, y1, label='Mirror', color='blue', linestyle='-', marker='o')

# 绘制第二张折线图
plt.plot(x, y2, label='IMirror', color='red', linestyle='--', marker='s')

plt.title('Relationship between file size and replication time')
plt.xlabel('file size (B)')
plt.ylabel('time of Replication(s)')
plt.legend()

plt.gca().xaxis.set_major_formatter(ScalarFormatter(useOffset=False))

plt.grid(True)
plt.show()
